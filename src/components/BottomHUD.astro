---
import CinematicPanel from "./CinematicPanel.astro";
import AudioPanel from "./AudioPanel.astro";
import ManualPanel from "./ManualPanel.astro";
---

<div id="bottom-hud" class="absolute bottom-0 left-0 w-full p-2 md:p-8 transition-all duration-700 md:translate-y-0 translate-y-0 opacity-100 pointer-events-auto">
  <div class="bg-black/70 md:bg-white/5 backdrop-blur-3xl border-t md:border border-white/10 p-4 md:p-5 rounded-t-3xl md:rounded-3xl flex flex-col md:flex-row gap-4 md:gap-6 relative overflow-hidden shadow-[0_-10px_40px_rgba(0,0,0,0.5)] md:shadow-[0_0_50px_rgba(0,0,0,0.5)] transition-all">

    <!-- Mobile Drag Handle -->
    <div class="w-12 h-1.5 bg-white/20 rounded-full mx-auto md:hidden mb-2 transition-colors hover:bg-white/40"></div>
    
    <!-- Status Display (Left Segment) -->
    <div class="hidden md:flex flex-col gap-3 min-w-[140px] border-r border-white/5 pr-6">
      <h2 class="text-[10px] font-bold text-slate-500 uppercase tracking-widest">Active State</h2>
      
      <div id="radio-mode-toggle" class="hidden"></div> <!-- Hidden input mapping for legacy JS compat -->
      <input type="checkbox" id="cinema-toggle" class="hidden">
      <input type="checkbox" id="bloom-toggle" class="hidden" checked>
      
      <!-- Global Info / Status -->
      <div class="mt-auto pt-4 flex flex-col gap-1">
          <div id="now-playing" class="text-[9px] text-emerald-400 font-mono hidden animate-pulse bg-emerald-400/10 px-2 py-1 rounded inline-block w-fit shadow-[0_0_10px_rgba(16,185,129,0.2)]">
            â€¢ LIVE STREAMING
          </div>
      </div>
    </div>

    <!-- Dynamic Panel Area (Right Segment) -->
    <div class="flex-grow relative min-h-[300px] md:min-h-[180px]">
      <CinematicPanel />
      <AudioPanel />
      <ManualPanel />
    </div>

    </div>
  </div>
</div>
