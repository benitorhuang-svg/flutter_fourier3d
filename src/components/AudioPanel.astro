---
---

<div id="panel-audio" class="absolute top-24 left-2 md:left-6 w-[180px] md:w-72 flex flex-col hidden opacity-0 transition-all duration-500 z-10 pointer-events-none gap-3 md:gap-4 items-stretch glass-card rounded-xl md:rounded-2xl p-2 md:p-4 shadow-2xl bg-slate-900/80 md:bg-slate-900/60 backdrop-blur-xl border border-white/5">
    
    <div class="flex flex-col gap-2 pointer-events-auto">
        <h3 class="text-[10px] md:text-xs font-black text-purple-400 uppercase tracking-[0.2em] mb-1">Audio Synthesis</h3>
        
        <div class="flex flex-col gap-1.5 p-2 md:p-3 rounded-lg md:rounded-xl border" style="background: var(--color-bg-inner); border-color: var(--color-border-inner);">
            <div class="flex justify-between items-center text-[8px] md:text-[10px] uppercase font-bold text-slate-400 tracking-wider">
                <span>Sensitivity</span>
                <span id="sens-val" class="font-mono text-purple-400">1.0x</span>
            </div>
            <div class="grid grid-cols-[auto_1fr_auto] items-center gap-1 md:gap-2 w-full">
                <button class="btn-ctrl shrink-0" onclick="document.getElementById('audio-sensitivity').stepDown(); document.getElementById('audio-sensitivity').dispatchEvent(new Event('input'))">-</button>
                <input type="range" id="audio-sensitivity" min="0.1" max="4" step="0.1" value="1.0" class="w-full min-w-0 h-1 accent-purple-500 cursor-pointer">
                <button class="btn-ctrl shrink-0" onclick="document.getElementById('audio-sensitivity').stepUp(); document.getElementById('audio-sensitivity').dispatchEvent(new Event('input'))">+</button>
            </div>
        </div>
    </div>

    <div class="flex flex-col gap-2 pointer-events-auto">
        <span class="text-[8px] md:text-[10px] font-black uppercase text-slate-500 tracking-widest pl-1">Stations</span>
        <div id="station-grid" class="flex flex-col gap-1.5 md:gap-2 overflow-y-auto max-h-[300px] custom-scrollbar pr-1">
            <button class="station-btn group w-full flex items-center gap-3 p-2 md:p-3 rounded-lg md:rounded-xl active:scale-[0.98] transition-all" data-url="https://streaming.positivity.radio/pr/posimeditation/icecast.audio">
                <div class="w-1.5 h-1.5 rounded-full bg-slate-700 active-dot transition-all group-hover:bg-slate-500"></div>
                <div class="flex flex-col items-start text-left">
                    <span class="text-[10px] md:text-sm font-bold text-slate-300 group-hover:text-white">Meditation</span>
                    <span class="text-[7px] md:text-[9px] text-slate-500 uppercase tracking-widest leading-none">Ambient / Zen</span>
                </div>
            </button>
            <button class="station-btn group w-full flex items-center gap-3 p-2 md:p-3 rounded-lg md:rounded-xl active:scale-[0.98] transition-all" data-url="https://classicfm.stream.publicradio.org/classicfm.mp3">
                <div class="w-1.5 h-1.5 rounded-full bg-slate-700 active-dot transition-all group-hover:bg-slate-500"></div>
                <div class="flex flex-col items-start text-left">
                    <span class="text-[10px] md:text-sm font-bold text-slate-300 group-hover:text-white">Classic FM</span>
                    <span class="text-[7px] md:text-[9px] text-slate-500 uppercase tracking-widest leading-none">Orchestral</span>
                </div>
            </button>
            <button class="station-btn group w-full flex items-center gap-3 p-2 md:p-3 rounded-lg md:rounded-xl active:scale-[0.98] transition-all" data-url="https://stream.zeno.fm/0r0xa792kwzuv">
                <div class="w-1.5 h-1.5 rounded-full bg-slate-700 active-dot transition-all group-hover:bg-slate-500"></div>
                <div class="flex flex-col items-start text-left">
                    <span class="text-[10px] md:text-sm font-bold text-slate-300 group-hover:text-white">Lofi Beats</span>
                    <span class="text-[7px] md:text-[9px] text-slate-500 uppercase tracking-widest leading-none">Chill / Hop</span>
                </div>
            </button>
            <button class="station-btn group w-full flex items-center gap-3 p-2 md:p-3 rounded-lg md:rounded-xl active:scale-[0.98] transition-all" data-url="mic">
                <div class="w-1.5 h-1.5 rounded-full bg-slate-700 active-dot transition-all group-hover:bg-slate-500"></div>
                <div class="flex flex-col items-start text-left">
                    <span class="text-[10px] md:text-sm font-bold text-slate-300 group-hover:text-amber-400">Mic Input</span>
                    <span class="text-[7px] md:text-[9px] text-slate-500 uppercase tracking-widest leading-none">Live Audio</span>
                </div>
            </button>
        </div>
    </div>
</div>

<style is:global>
    @reference "../styles/global.css";

    .btn-ctrl {
        @apply w-6 h-6 flex items-center justify-center rounded active:scale-95 transition-all text-purple-400 text-sm font-black;
        background: var(--color-bg-inner);
        border: 1px solid var(--color-border-inner);
    }
    .btn-ctrl:hover {
        background: rgba(255, 255, 255, 0.1);
    }

    .station-btn {
        background: var(--color-bg-inner);
        border: 1px solid var(--color-border-inner);
    }
    .station-btn:hover {
        background: rgba(255, 255, 255, 0.08);
    }
    .station-btn.active {
        background: rgba(168, 85, 247, 0.2); /* Brighter active state */
        border-color: rgba(168, 85, 247, 0.6);
        box-shadow: inset 0 0 15px rgba(168, 85, 247, 0.1);
    }
    .station-btn.active .active-dot {
        background: #d8b4fe !important; /* Brighter Purple 300 */
        box-shadow: 0 0 15px #a855f7, 0 0 5px #fff;
        animation: pulse-light 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    @keyframes pulse-light {
        0%, 100% { opacity: 1; filter: brightness(1); }
        50% { opacity: 0.8; filter: brightness(1.5); scale: 1.1; }
    }

</style>
